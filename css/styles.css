/* ============================================================
   ProofX — styles.css (Enhanced, FAANG-Labs polish)
   Notes:
   • Preserves your class API; adds utilities, form styles, scrollbars,
     container queries, and fine-grained states without bloat.
   • Safe for no-JS; resilient under a11y prefs.
   ============================================================ */

/* ---- Color scheme hint (lets UA pick default form styles) ---- */
:root{color-scheme: dark light}

/* ---- Design tokens (dark default) ---- */
:root{
  /* Palette */
  --bg:#070a10; --bg-2:#0b1016;
  --card:#0e1520; --card-2:#0b121c;
  --stroke:#1b2739; --stroke-2:#22324b;
  --text:#edf3ff; --muted:#a6b2c6;

  /* Brand */
  --brand:#57c8ff; --brand-2:#3aa7e6; --accent:#9bffd1;

  /* Semantic */
  --success:#22c55e; --warning:#f59e0b; --danger:#ef4444; --info:#38bdf8;

  /* Effects */
  --shadow-sm:0 6px 16px rgba(0,0,0,.24);
  --shadow-md:0 10px 30px rgba(0,0,0,.28);
  --shadow-lg:0 16px 50px rgba(0,0,0,.32);
  --radius:14px;

  /* Spacing */
  --s-1:8px; --s-2:12px; --s-3:16px; --s-4:24px; --s-5:32px; --s-6:48px; --s-7:64px;

  /* Z-index scale */
  --z-nav:50; --z-overlay:100; --z-toast:200;

  /* Focus ring */
  --ring:0 0 0 2px rgba(58,167,230,.6);

  /* Type scale */
  --fs-h1:clamp(36px,5.4vw,58px);
  --fs-h2:28px;
  --fs-h3:22px;
  --fs-body:17px;

  /* Density controls */
  --container:1080px;
  --container-wide:1280px;

  /* Scrollbar size */
  --scrollbar:12px;

  /* Border strength */
  --hairline:1px;
}

:root[data-theme="light"]{
  --bg:#f8fbff; --bg-2:#eef3fb;
  --card:#ffffff; --card-2:#f6f9ff;
  --stroke:#dbe5f5; --stroke-2:#c9d8ef;
  --text:#0b1526; --muted:#51607a;
  --brand:#0ea5e9; --brand-2:#0284c7; --accent:#22c55e;
  --ring:0 0 0 2px rgba(2,132,199,.45);
}

/* ---- Base / reset-ish ---- */
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family:Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans";
  background:var(--bg); color:var(--text);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  letter-spacing:.1px; font-size:var(--fs-body);
  transition:background-color .25s ease, color .25s ease;
  accent-color: var(--brand);
}
a{color:inherit; text-underline-offset:2px; text-decoration-thickness: .06em}
a:hover{text-decoration-color: color-mix(in oklab, var(--brand) 60%, transparent)}
img{max-width:100%; height:auto; display:block}
ul{padding-inline-start:1.2rem; margin:0}
ul.bullets{padding-inline-start:1.2rem; margin:0}
hr{border:0; height:1px; background:var(--stroke)}
.muted{color:var(--muted)}
.mono{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace}
::selection{background:color-mix(in oklab,var(--brand) 35%, transparent); color:#06131a}

/* Smooth scroll (disabled under reduced motion) */
html{scroll-behavior:smooth}
@media (prefers-reduced-motion: reduce){ html{scroll-behavior:auto} }

/* Keyboard focus (a11y) */
:focus{outline:none}
:focus-visible{box-shadow:var(--ring); border-radius:10px}

/* Visually-hidden utility */
.sr-only,.visually-hidden{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}

/* Skip link */
.skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip-link:focus{left:12px;top:12px;width:auto;height:auto;padding:8px 10px;background:#0c1624;border:1px solid var(--stroke);border-radius:10px;z-index:var(--z-overlay)}

/* ---- Background field ---- */
.bg{position:fixed;inset:0;z-index:-1;pointer-events:none;
  background:
    radial-gradient(900px 520px at 80% -10%, color-mix(in oklab, var(--brand) 35%, transparent), transparent 60%),
    radial-gradient(680px 420px at 0% 12%, color-mix(in oklab, var(--brand-2) 30%, transparent), transparent 60%),
    linear-gradient(180deg, var(--bg), var(--bg-2));
}

/* ---- Layout ---- */
.container{width:min(var(--container),92%); margin-inline:auto}
.container--wide{width:min(var(--container-wide),94%); margin-inline:auto}
.hr{height:1px; background:var(--stroke); margin:var(--s-3) 0}

/* ---- Top nav ---- */
.nav{position:sticky; top:0; z-index:var(--z-nav); border-bottom:var(--hairline) solid var(--stroke);
  background:rgba(8,12,18,.55); box-shadow:0 1px 0 rgba(255,255,255,.02)}
@supports (backdrop-filter: blur(6px)){
  .nav{backdrop-filter:saturate(125%) blur(8px)}
}
.nav-inner{display:flex; align-items:center; justify-content:space-between; padding-block:var(--s-2)}
.brand{display:flex; align-items:center; gap:10px; text-decoration:none}
.brand-mark{display:grid; place-items:center; inline-size:30px; block-size:30px; border-radius:10px;
  background:linear-gradient(180deg,var(--brand),var(--brand-2)); color:#06131a; font-weight:800; box-shadow:var(--shadow-sm);
  position:relative; isolation:isolate; overflow:hidden}
.brand-mark::after{content:""; position:absolute; inset:-40%; border-radius:50%;
  background:radial-gradient(circle at 50% 50%, rgba(255,255,255,.35), transparent 60%);
  filter:blur(10px); mix-blend:overlay; animation:brandPulse 6s ease-in-out infinite}
@keyframes brandPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.06)}}
.brand-text{font-weight:800; letter-spacing:.2px}

.links{display:flex; align-items:center; gap:var(--s-3)}
.links a{color:var(--muted); text-decoration:none; padding:6px 8px; border-radius:8px; transition:background .12s ease, color .12s ease}
.links a:hover{color:var(--text); background:rgba(255,255,255,.03)}
.links a[aria-current="page"]{color:var(--text); background:rgba(87,200,255,.08); border:1px solid color-mix(in oklab, var(--brand) 35%, transparent)}
.nav .btn.small{padding:8px 12px; font-size:.95rem; border-radius:999px; border:1px solid var(--stroke)}

.nav-toggle{display:none; inline-size:38px; block-size:38px; border:0; background:transparent; color:var(--text)}
.nav-toggle .bar{display:block; inline-size:20px; block-size:2px; background:var(--text); margin:4px auto; border-radius:2px}

/* prevent body scroll when mobile menu opens */
body.nav-open{overflow:hidden}

/* ---- Hero ---- */
.section{padding-block:var(--s-6)}
.section-alt{background:rgba(10,15,24,.45); border-block:var(--hairline) solid var(--stroke)}
.hero{padding-block:var(--s-7) var(--s-5)}
.hero-inner{display:grid; grid-template-columns:1.2fr .8fr; gap:var(--s-4); align-items:center}
.hero-copy h1{font-size:var(--fs-h1); line-height:1.06; margin:0 0 var(--s-2); letter-spacing:.1px}
.hero-copy .sub{color:var(--muted); max-inline-size:760px}
.actions{margin-top:var(--s-3); display:flex; gap:var(--s-2); flex-wrap:wrap}

/* Signature shimmer headline (apply .shimmer to any heading) */
.shimmer{
  background:linear-gradient(92deg, var(--text) 0%, color-mix(in oklab, var(--brand) 25%, var(--text)) 35%, var(--text) 70%);
  background-size:200% 100%;
  -webkit-background-clip:text; background-clip:text; color:transparent;
  animation:shimmerMove 6s ease-in-out infinite;
}
@keyframes shimmerMove{0%{background-position:0% 0}50%{background-position:100% 0}100%{background-position:0% 0}}

/* Pills */
.pill{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border:1px solid var(--stroke); border-radius:999px; background:rgba(255,255,255,.03); color:var(--text)}

/* ---- Buttons ---- */
.btn{display:inline-block; padding:12px 16px; border-radius:12px; text-decoration:none; border:1px solid var(--stroke);
  transition:transform .12s ease, border-color .12s ease, background .12s ease, box-shadow .12s ease; will-change:transform}
.btn:hover{transform:translateY(-1px)}
.btn:active{transform:translateY(0)}
.btn:focus-visible{box-shadow:var(--ring)}
.btn[aria-disabled="true"], .btn:disabled{opacity:.6; cursor:not-allowed}
.btn.primary{background:linear-gradient(180deg, var(--brand), var(--brand-2)); color:#06121a; border:none; box-shadow:var(--shadow-md)}
.btn.ghost{background:transparent; color:var(--text)}

/* ---- Trust chips & metrics ---- */
.trust{display:flex; gap:var(--s-2); align-items:center; margin-top:var(--s-3); color:var(--muted)}
.trust .tag{background:rgba(255,255,255,.02)}
.hero-card{background:linear-gradient(180deg, rgba(15,22,34,.9), rgba(10,16,26,.9)); border:var(--hairline) solid var(--stroke); border-radius:var(--radius); padding:var(--s-3); box-shadow:var(--shadow-md); position:relative; overflow:hidden}
.hero-card::before{content:""; position:absolute; inset:-1px; background:conic-gradient(from 180deg at 50% 50%, rgba(87,200,255,.15), transparent 30%, transparent 70%, rgba(155,255,209,.15)); filter:blur(18px); opacity:.6; pointer-events:none}
.metric{display:flex; flex-direction:column; gap:4px; padding:12px; border:var(--hairline) solid var(--stroke); border-radius:12px; background:rgba(18,26,40,.5)}
.metric .kpi{font-weight:800; font-size:22px}
.metric .label{font-size:.9rem}

/* ---- Cards grid (container-query enabled) ---- */
.cards{
  display:grid; gap:var(--s-3);
  grid-template-columns:repeat(3,1fr);
  container-type:inline-size; /* enables @container below */
}
@media (max-width:1100px){
  .cards{grid-template-columns:repeat( auto-fit, minmax(260px,1fr) )}
}
@container (max-width:720px){
  .cards{grid-template-columns:1fr}
}
.card{position:relative; background:linear-gradient(180deg, rgba(16,24,36,.72), rgba(10,14,22,.72)); border:var(--hairline) solid var(--stroke); border-radius:var(--radius); padding:var(--s-3); transition:transform .12s ease, border-color .12s ease, box-shadow .12s ease, filter .12s ease; box-shadow:var(--shadow-sm); overflow:hidden; transform-style:preserve-3d}
.card::after{content:""; position:absolute; inset:0; pointer-events:none; background:linear-gradient(180deg, transparent, rgba(87,200,255,.06)); opacity:0; transition:opacity .15s ease}
.card:hover{transform:translateY(-1px) perspective(900px) rotateX(1.2deg) rotateY(.8deg); border-color:var(--stroke-2); box-shadow:var(--shadow-md); filter:saturate(1.02)}
.card:hover::after{opacity:1}
.card h3{font-size:var(--fs-h3); margin:0 0 8px}
.card-top{display:flex; align-items:center; justify-content:space-between; margin-bottom:8px}
.badge{font-size:.74rem; color:#06121a; background:linear-gradient(180deg, var(--accent), #6cffc4); padding:6px 10px; border-radius:999px; border:1px solid #e6fff5}
.card-cta{margin-top:12px; display:flex; gap:12px}
.card-cta a{color:var(--brand); text-decoration:none}
.card-cta a[aria-disabled="true"]{opacity:.6; cursor:not-allowed}

/* ---- Research layout ---- */
.research-grid{display:grid; grid-template-columns:1.1fr .9fr; gap:var(--s-3)}
.panel{border:var(--hairline) solid var(--stroke); border-radius:var(--radius); padding:var(--s-3); background:linear-gradient(180deg, rgba(18,24,36,.55), rgba(10,14,22,.55)); box-shadow:var(--shadow-sm)}
.panel h4{margin:0 0 8px}
.notes{list-style:none; padding:0; margin:0}
.notes li{display:flex; gap:10px; padding:10px 0; border-bottom:1px dashed #1e2a3f}
.notes li:last-child{border-bottom:0}
.notes span{color:var(--muted); inline-size:70px; flex:0 0 auto}

/* ---- Timeline (Roadmap) ---- */
.timeline{display:grid; gap:var(--s-3)}
.timeline > div{position:relative; padding-inline-start:28px; border:var(--hairline) solid var(--stroke); border-radius:var(--radius); padding:var(--s-3); background:linear-gradient(180deg, rgba(18,24,36,.55), rgba(10,14,22,.55))}
.timeline > div::before{content:""; position:absolute; inset-inline-start:12px; inset-block-start:20px; inline-size:6px; block-size:6px; border-radius:50%; background:var(--brand); box-shadow:0 0 0 4px rgba(87,200,255,.15); animation:dotPulse 2.6s ease-in-out infinite}
@keyframes dotPulse{0%,100%{transform:scale(1); opacity:.9}50%{transform:scale(1.3); opacity:1}}

/* ---- FAQ (details/summary) ---- */
.faq-grid{display:grid; gap:var(--s-3)}
.faq-grid article{border:var(--hairline) solid var(--stroke); border-radius:var(--radius); padding:var(--s-3); background:linear-gradient(180deg, rgba(16,24,36,.6), rgba(10,14,22,.6))}
.faq-grid article summary{list-style:none; cursor:pointer; font-weight:600; outline:none}
.faq-grid article summary::-webkit-details-marker{display:none}
.faq-grid article[open]{border-color:var(--stroke-2)}
.faq-grid a{color:var(--brand)}
details[open] > div{animation:faqOpen .28s ease}
@keyframes faqOpen{from{opacity:0; transform:translateY(-4px)}to{opacity:1; transform:none}}

/* ---- Updates ---- */
.update-feed{display:grid; grid-template-columns:1fr; gap:12px}
.update{border:var(--hairline) solid var(--stroke); border-radius:var(--radius); padding:var(--s-3); background:linear-gradient(180deg, rgba(18,24,36,.55), rgba(10,14,22,.55)); box-shadow:var(--shadow-sm)}

/* ---- Tables / Code (prose) ---- */
table{width:100%; border-collapse:collapse; border:var(--hairline) solid var(--stroke); border-radius:12px; overflow:hidden; background:color-mix(in oklab, var(--card) 90%, transparent)}
thead{background:rgba(255,255,255,.03)}
th,td{padding:10px 12px; border-bottom:var(--hairline) solid var(--stroke)}
tr:last-child td{border-bottom:0}
code,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace; background:rgba(255,255,255,.04); border:var(--hairline) solid var(--stroke); border-radius:8px}
code{padding:.15rem .35rem}
pre{padding:12px; overflow:auto}

/* ---- Forms (minimal) ---- */
input,textarea,select{
  background:linear-gradient(180deg, var(--card), var(--card-2));
  color:var(--text);
  border:var(--hairline) solid var(--stroke);
  border-radius:10px; padding:10px 12px;
}
input::placeholder,textarea::placeholder{color:color-mix(in oklab, var(--muted) 70%, transparent)}
label{color:var(--muted); font-size:.92rem}
input:focus,textarea:focus,select:focus{box-shadow:var(--ring); outline:none}

/* ---- Footer ---- */
.footer{border-top:var(--hairline) solid var(--stroke); padding-block:18px; background:rgba(6,10,16,.55)}
@supports (backdrop-filter: blur(6px)){
  .footer{backdrop-filter:saturate(130%) blur(8px)}
}
.footer-inner{display:flex; align-items:center; justify-content:space-between; gap:12px}
.footer a{color:var(--muted); text-decoration:none; padding:6px 8px; border-radius:8px; transition:background .12s ease, color .12s ease}
.footer a:hover{color:var(--text); background:rgba(255,255,255,.03)}

/* =========================
   Components used by HTML
   ========================= */
.tag{display:inline-flex; align-items:center; gap:6px; border:var(--hairline) solid var(--stroke); border-radius:999px; padding:4px 10px; font-size:.85rem; background:rgba(255,255,255,.03)}
.chips{display:flex; flex-wrap:wrap; gap:8px}

.callout{border:var(--hairline) solid var(--stroke); border-radius:var(--radius); padding:var(--s-3); background:linear-gradient(180deg, rgba(18,24,36,.55), rgba(10,14,22,.55)); box-shadow:var(--shadow-sm)}

.logo-shelf{display:grid; gap:14px; grid-template-columns:repeat(6,1fr)}
.logo{block-size:40px; display:flex; align-items:center; justify-content:center; border:1px dashed var(--stroke); border-radius:12px; color:var(--muted); background:rgba(255,255,255,.02)}

.tabbar{display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px}
.tab{border:var(--hairline) solid var(--stroke); padding:8px 12px; border-radius:10px; background:rgba(255,255,255,.03); cursor:pointer; color:var(--text)}
.tab:hover{background:rgba(255,255,255,.05)}
.tab[aria-selected="true"]{outline:2px solid var(--brand); background:rgba(87,200,255,.08)}
.tabpanes > div{display:none}
.tabpanes > div[aria-hidden="false"]{display:block}

.avatar{inline-size:88px; block-size:88px; border-radius:50%; object-fit:cover; border:1px solid rgba(255,255,255,.2)}
.quote{font-size:1.05rem; line-height:1.6; border-inline-start:3px solid var(--brand-2); padding-inline-start:12px; color:var(--text); background:rgba(255,255,255,.02); border-radius:6px}
.toc{display:grid; gap:8px}
.toc a{display:flex; align-items:center; gap:8px; text-decoration:none; color:inherit; border:var(--hairline) solid var(--stroke); background:rgba(255,255,255,.03); padding:8px 10px; border-radius:10px}
.toc a:hover{background:rgba(255,255,255,.05); border-color:var(--stroke-2)}

.media{border:var(--hairline) solid var(--stroke); border-radius:var(--radius); padding:var(--s-2); background:linear-gradient(180deg, rgba(16,24,36,.6), rgba(10,14,22,.6)); box-shadow:var(--shadow-sm)}
.caption{font-size:.9rem; color:var(--muted); margin-top:6px}

.kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace; border:var(--hairline) solid var(--stroke); padding:.15rem .35rem; border-radius:6px; background:rgba(255,255,255,.05)}

/* ---- Scrollbars (WebKit + Firefox) ---- */
*{
  scrollbar-color: color-mix(in oklab, var(--brand) 35%, transparent) transparent;
  scrollbar-width: thin;
}
*::-webkit-scrollbar{width:var(--scrollbar); height:var(--scrollbar)}
*::-webkit-scrollbar-track{background:transparent}
*::-webkit-scrollbar-thumb{
  background:linear-gradient(180deg, color-mix(in oklab, var(--brand) 55%, #000), color-mix(in oklab, var(--brand-2) 55%, #000));
  border-radius:999px; border:3px solid transparent; background-clip:padding-box;
}

/* =========================
   Responsive
   ========================= */
@media (max-width:1024px){
  .hero-inner{grid-template-columns:1fr}
  .research-grid{grid-template-columns:1fr}
  .logo-shelf{grid-template-columns:repeat(3,1fr)}
}
@media (max-width:720px){
  .links{display:none}
  .links.open{display:flex; position:absolute; inset-inline-end:4%; inset-block-start:60px; background:rgba(6,10,16,.96); border:var(--hairline) solid var(--stroke); border-radius:14px; padding:10px 12px; flex-direction:column; gap:10px; box-shadow:var(--shadow-lg)}
  .nav-toggle{display:block}
  .logo-shelf{grid-template-columns:repeat(2,1fr)}
}

/* ---- Motion & contrast preferences ---- */
.prm *{transition:none !important; animation:none !important}
@media (prefers-contrast: more){
  :root{--ring:0 0 0 3px color-mix(in oklab, var(--brand) 60%, white)}
  .links a[aria-current="page"]{border-color:var(--brand)}
}
@media (prefers-reduced-motion: reduce){
  .brand-mark::after,.shimmer,
  .card,.timeline > div::before, details[open] > div{animation:none !important}
  .card{transform:none !important}
}

/* ---- Target section highlight (deep linking UX) ---- */
:target{scroll-margin-top:84px}

/* ---- Utilities ---- */
.high-contrast{filter:contrast(1.12) saturate(1.06)}
.text-xl{font-size:calc(var(--fs-body) * 1.12)}
.max-w-prose{max-inline-size:70ch}
.grid{display:grid; gap:var(--s-3)}
.flex{display:flex; gap:var(--s-2)}
.centered{display:grid; place-items:center}
.hide{display:none !important}
.show{display:revert !important}
.round{border-radius:var(--radius)}
.border{border:var(--hairline) solid var(--stroke)}
.shadow{box-shadow:var(--shadow-sm)}
.sr-only-focusable:focus{position:static;width:auto;height:auto;clip:auto}

/* =========================
   Print (basic, quiet)
   ========================= */
@media print{
  body{background:#fff;color:#000}
  .bg,.nav,.footer{display:none}
  a{text-decoration:underline;color:#000}
  .section,.hero{padding-block:16px}
  .card,.panel,.callout,.media{border:1px solid #999; background:#fff; box-shadow:none}
}
